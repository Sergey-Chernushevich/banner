(()=>{"use strict";window.addEventListener("DOMContentLoaded",(async()=>{const e=new URLSearchParams(window.location.search).get("lang")||navigator.language.slice(0,2)||"en";document.getElementById("banner").setAttribute("data-lang",e),function(e,t){document.querySelectorAll("[data-i18n]").forEach((n=>{const o=n.getAttribute("data-i18n");if(n.setAttribute("data-lang",t),o.includes("{{price}}")){const t=n.getAttribute("data-price");n.innerHTML=e[o].replace("{{price}}",t)}else n.innerHTML=e[o]}))}(await async function(e){const t=`https://raw.githubusercontent.com/Sergey-Chernushevich/banner/lang/i18n/${e}.json`;try{const e=await fetch(t);if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return await e.json()}catch(e){throw console.error(e),e}}(e),e)}));const e=document.querySelectorAll(".option"),t=document.getElementById("subscribe-button"),n={yearly:{value:"yearly",href:"https://apple.com"},weekly:{value:"weekly",href:"https://google.com"}};function o(){for(let o of e)if(o.checked){const e=n[o.value];e&&(t.href=e.href);break}}var a,r;window.onload=function(){o();for(let t of e)t.addEventListener("change",o)},a=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(r=new Image).onload=r.onerror=function(){a(2==r.height)},r.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"})();